<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ch√∫c M·ª´ng NƒÉm M·ªõi 2026 - B√≠nh Ng·ªç</title>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@700;900&display=swap" rel="stylesheet">
<style>
:root {
    --red-tet: #FF4D4D;
    --orange-tet: #FF8C00;
    --gold-tet: #FFD700;
    --pink-tet: #FF69B4;
}

body {
    margin: 0; padding: 0;
    background: #000; /* N·ªÅn ƒëen tuy·ªát ƒë·ªëi */
    font-family: 'Montserrat', sans-serif;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}

canvas {
    position: absolute;
    top: 0; left: 0;
    z-index: 1;
    pointer-events: none;
}

#intro-screen {
    position: relative;
    z-index: 10;
    text-align: center;
    color: white;
    transition: 0.8s ease;
}

.title-main {
    font-size: clamp(4rem, 18vw, 9rem);
    font-weight: 900;
    margin: 0;
    background: linear-gradient(to bottom, var(--gold-tet), var(--orange-tet), var(--red-tet));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    filter: drop-shadow(0 0 25px rgba(255, 215, 0, 0.7));
    line-height: 1;
}

.sub-title {
    letter-spacing: 6px;
    font-weight: 700;
    color: var(--gold-tet);
    margin-bottom: 5px;
    text-transform: uppercase;
}

.btn-open {
    margin-top: 35px;
    padding: 22px 55px;
    background: linear-gradient(45deg, var(--gold-tet), var(--orange-tet));
    color: var(--red-tet);
    border: none;
    border-radius: 50px;
    font-size: 1.6rem;
    font-weight: 900;
    cursor: pointer;
    box-shadow: 0 0 35px rgba(255, 215, 0, 0.6);
    transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.btn-open:hover { 
    transform: scale(1.15); 
    box-shadow: 0 0 60px var(--gold-tet);
}

#card {
    position: absolute;
    z-index: 20;
    width: 360px;
    background: linear-gradient(145deg, #FF4D4D, #FF8C00, #FFD700);
    border: 6px solid var(--gold-tet);
    border-radius: 25px;
    padding: 90px 25px 40px;
    text-align: center;
    box-shadow: 0 0 25px #FFD700, 0 0 50px #FF8C00, 0 0 80px #FF4D4D;
    display: none;
    opacity: 0;
    transform: scale(0.4) rotate(-5deg);
    transition: all 0.7s cubic-bezier(0.34, 1.56, 0.64, 1);
    cursor: pointer;
}

#card.active { display: block; opacity: 1; transform: scale(1) rotate(0deg); }

.avatar-wrap {
    position: absolute;
    top: -95px; left: 50%;
    transform: translateX(-50%);
    width: 180px; height: 180px;
}

.person-img {
    width: 100%; height: 100%;
    border-radius: 50%;
    border: 7px solid var(--gold-tet);
    object-fit: cover;
    position: relative;
    z-index: 10;
    background: white;
    box-shadow: 0 15px 35px rgba(0,0,0,0.4);
}

.heart-icon {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%) scale(0);
    font-size: 260px;
    color: var(--red-tet);
    z-index: 5;
    transition: 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    pointer-events: none;
    user-select: none;
}

.heart-icon.active { 
    animation: heartbeat 0.8s infinite alternate;
    text-shadow: 0 0 10px #FF4D4D, 0 0 20px #FF8C00, 0 0 30px #FFD700;
}

@keyframes heartbeat { to { transform: translate(-50%, -50%) scale(1.3); } }

.wish-box { margin-top: 25px; }

.wish-line {
    display: block;
    font-family: 'Dancing Script', cursive;
    font-size: 1.9rem;
    color: var(--gold-tet);
    margin-bottom: 12px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.6);
    opacity: 0;
    transform: translateY(25px);
}

.wish-line.show { 
    opacity: 1; 
    transform: translateY(0); 
    transition: 0.7s ease-out; 
}

#wish-note {
    margin-top: 35px; 
    color: var(--gold-tet); 
    font-size: 1rem; 
    border-top: 1px solid rgba(255,215,0,0.4); 
    padding-top: 20px; 
    font-style: italic;
    user-select: none; 
    cursor: pointer;
    transition: 0.3s all ease-in-out;
}

#wish-note.active {
    font-size: 1.2rem;
    text-shadow: 0 0 20px #FFD700, 0 0 40px #FF8C00, 0 0 60px #FF4D4D;
}
.hidden { display: none !important; }
</style>
</head>
<body>

<canvas id="canvas"></canvas>

<div id="intro-screen">
    <p class="sub-title">Ch√∫c M·ª´ng NƒÉm M·ªõi</p>
    <h1 class="title-main">2026</h1>
    <p style="opacity: 0.9; margin-top: 10px; font-weight: 700; letter-spacing: 2px;">üêé B√çNH NG·ªå - M√É ƒê√ÅO TH√ÄNH C√îNG üêé</p>
    <button class="btn-open" onclick="openMagic()">M·ªû QU√Ä T·∫æT üßß</button>
</div>

<div id="card" onclick="toggleHeart()">
    <div class="avatar-wrap">
        <img src="https://topanh.com/wp-content/uploads/2025/05/con-tho-hoat-hinh-de-thuong-2.jpg" class="person-img">
        <div id="heart" class="heart-icon">‚ù§</div>
    </div>
    <div class="wish-box" id="wish-box"></div>
    <div id="wish-note" onclick="toggleHeart(event)">Nh·∫•n v√†o ƒë√¢y ƒë·ªÉ nh·∫≠n "v·∫°n tim" ‚ù§Ô∏è</div>
</div>

<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
let width, height, fireworks = [], particles = [], deco = [], heartParticles = [], confettiParticles = [];
let fireworkCount = 0;

function init() {
    width = canvas.width = window.innerWidth;
    height = canvas.height = window.innerHeight;
}
window.addEventListener('resize', init);
init();

// --- L·ªöP PH√ÅO HOA N√ÇNG C·∫§P ---
class Firework {
    constructor() {
        this.x = Math.random() * width;
        this.y = height;
        this.targetY = Math.random() * (height * 0.5);
        this.speed = Math.random() * 3 + 5;
        this.angle = -Math.PI / 2 + (Math.random() * 0.2 - 0.1);
        this.history = [];
        const colors = ['#FF4D4D', '#FF8C00', '#FFD700', '#FF69B4', '#FFFFFF'];
        this.color = colors[Math.floor(Math.random() * colors.length)];
    }
    update() {
        this.history.push({x: this.x, y: this.y});
        if(this.history.length > 10) this.history.shift();
        
        this.x += Math.cos(this.angle) * this.speed;
        this.y += Math.sin(this.angle) * this.speed;
        
        if (this.y <= this.targetY) {
            this.explode();
            return true;
        }
        return false;
    }
    explode() {
        fireworkCount++;
        const particleCount = 60 + Math.floor(Math.random() * 40);
        for (let i = 0; i < particleCount; i++) {
            particles.push(new Particle(this.x, this.y, this.color));
        }
        if (fireworkCount % 8 === 0) createHeartFirework(this.x, this.y);
    }
    draw() {
        ctx.beginPath();
        ctx.strokeStyle = this.color;
        ctx.lineWidth = 2;
        if(this.history.length > 0) {
            ctx.moveTo(this.history[0].x, this.history[0].y);
            ctx.lineTo(this.x, this.y);
        }
        ctx.stroke();
    }
}

class Particle {
    constructor(x, y, color) {
        this.x = x;
        this.y = y;
        this.color = color;
        const angle = Math.random() * Math.PI * 2;
        const speed = Math.random() * 8 + 2;
        this.vx = Math.cos(angle) * speed;
        this.vy = Math.sin(angle) * speed;
        this.life = 100;
        this.gravity = 0.12;
        this.friction = 0.96;
    }
    update() {
        this.vx *= this.friction;
        this.vy *= this.friction;
        this.vy += this.gravity;
        this.x += this.vx;
        this.y += this.vy;
        this.life -= 1.5;
    }
    draw() {
        ctx.globalAlpha = this.life / 100;
        ctx.fillStyle = this.color;
        ctx.beginPath();
        ctx.arc(this.x, this.y, 2, 0, Math.PI * 2);
        ctx.fill();
        ctx.globalAlpha = 1;
    }
}

function createHeartFirework(x,y){
    for(let i=0;i<60;i++){
        const t=Math.random()*Math.PI*2;
        const hx=16*Math.pow(Math.sin(t),3);
        const hy=-(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t));
        heartParticles.push({x:x,y:y,sx:hx*0.5,sy:hy*0.5,life:100,color:'#FF4D4D',angle:Math.random()*360,spin:(Math.random()-0.5)*0.2});
    }
}

class Petal {
    constructor() { this.reset(); this.y = Math.random() * height; }
    reset() { this.x = Math.random() * width; this.y = -20; this.size = Math.random() * 12 + 12; this.speed = Math.random() * 1.2 + 1; this.txt = Math.random() > 0.5 ? 'üå∏' : 'üßß'; }
    update() { this.y += this.speed; this.x += Math.sin(this.y / 50); if (this.y > height) this.reset(); }
    draw() { ctx.font = `${this.size}px serif`; ctx.fillText(this.txt, this.x, this.y); }
}

class Emoji {
    constructor() { this.reset(); this.y = Math.random() * height; }
    reset() { this.x = Math.random() * width; this.y = -20; this.size = Math.random() * 20 + 15; this.speed = Math.random() * 1.5 + 0.5; const icons = ['üéâ', 'üß®', 'üçÄ', 'üí∞', 'üêé']; this.txt = icons[Math.floor(Math.random() * icons.length)]; }
    update() { this.y += this.speed; if (this.y > height) this.reset(); }
    draw() { ctx.font = `${this.size}px serif`; ctx.fillText(this.txt, this.x, this.y); }
}

for (let i = 0; i < 20; i++) deco.push(new Petal());
for (let i = 0; i < 10; i++) deco.push(new Emoji());

const wishes = ["G·ª≠i [T√™n Ng∆∞·ªùi Nh·∫≠n] üéÄ", "NƒÉm B√≠nh Ng·ªç 2026 üêé", "M√£ ƒë√°o th√†nh c√¥ng üéâ", "V·∫°n s·ª± nh∆∞ √Ω üçÄ", "Ti·ªÅn v√†o t·ª∑ t·ª∑ üí∞"];

function openMagic() {
    document.getElementById('intro-screen').style.opacity = '0';
    setTimeout(() => {
        document.getElementById('intro-screen').classList.add('hidden');
        const card = document.getElementById('card');
        card.style.display = 'block';
        setTimeout(() => card.classList.add('active'), 50);

        const box = document.getElementById('wish-box');
        wishes.forEach((txt, i) => {
            let s = document.createElement('span'); s.className = 'wish-line'; s.innerText = txt;
            box.appendChild(s);
            setTimeout(() => { s.classList.add('show'); fireworks.push(new Firework()); }, 800 + (i * 700));
        });
    }, 500);
}

function toggleHeart(e) {
    if (e) e.stopPropagation();
    const heartIcon = document.getElementById('heart');
    const wishNote = document.getElementById('wish-note');
    if (!heartIcon.classList.contains('active')) {
        heartIcon.classList.add('active');
        createHeartFirework(width / 2, height / 2);
        wishNote.classList.add('active');
        setTimeout(() => { wishNote.classList.remove('active'); }, 500);
    }
    for (let i = 0; i < 5; i++) { setTimeout(() => fireworks.push(new Firework()), i * 200); }
}

function animate() {
    // X√≥a n·ªÅn m√†u ƒëen ƒë·∫∑c, kh√¥ng nh·∫•p nh√°y
    ctx.globalCompositeOperation = 'source-over';
    ctx.fillStyle = '#000000';
    ctx.fillRect(0, 0, width, height);

    // V·∫Ω hi·ªáu ·ª©ng ph√°o hoa
    ctx.globalCompositeOperation = 'lighter';
    
    if (Math.random() < 0.04) fireworks.push(new Firework());
    
    fireworks = fireworks.filter(f => {
        const exploded = f.update();
        if (!exploded) f.draw();
        return !exploded;
    });

    particles = particles.filter(p => {
        p.update();
        p.draw();
        return p.life > 0;
    });

    heartParticles = heartParticles.filter(p => {
        p.x += p.sx; p.y += p.sy; p.sy += 0.1; p.life -= 1.5;
        ctx.globalAlpha = p.life / 100;
        ctx.fillStyle = p.color;
        ctx.beginPath(); ctx.arc(p.x, p.y, 3, 0, Math.PI * 2); ctx.fill();
        return p.life > 0;
    });

    ctx.globalCompositeOperation = 'source-over';
    ctx.fillStyle = 'white'; // M√†u cho deco icons
    deco.forEach(d => { d.update(); d.draw(); });

    requestAnimationFrame(animate);
}
animate();
</script>
</body>
</html>